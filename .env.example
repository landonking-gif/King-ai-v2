# ╔══════════════════════════════════════════════════════════════════════════════╗
# ║                         KING AI v2 CONFIGURATION                              ║
# ║                                                                                ║
# ║  Copy this file to .env and fill in your values                               ║
# ║  See SETUP.md for detailed instructions on obtaining each credential          ║
# ╚══════════════════════════════════════════════════════════════════════════════╝

# ┌──────────────────────────────────────────────────────────────────────────────┐
# │                              DATABASE                                         │
# │  Required: PostgreSQL database for storing all business data                  │
# └──────────────────────────────────────────────────────────────────────────────┘

# PostgreSQL connection string (REQUIRED)
# Format: postgresql+asyncpg://username:password@host:port/database
DATABASE_URL=postgresql+asyncpg://king:your_password_here@localhost:5432/kingai

# Redis connection for caching and task queues (REQUIRED)
# Format: redis://host:port
REDIS_URL=redis://localhost:6379


# ┌──────────────────────────────────────────────────────────────────────────────┐
# │                          LLM PROVIDERS                                        │
# │  Configure at least ONE provider. Multiple providers enable fallback.         │
# └──────────────────────────────────────────────────────────────────────────────┘

# ═══════════════════════════════════════════════════════════════════════════════
# OLLAMA - Local LLM (Recommended for development)
# Free, runs locally. Install from: https://ollama.ai
# ═══════════════════════════════════════════════════════════════════════════════
OLLAMA_URL=http://localhost:11434
OLLAMA_MODEL=llama3.1:8b

# ═══════════════════════════════════════════════════════════════════════════════
# vLLM - High-Performance Inference (Recommended for production)
# Self-hosted, requires GPU. See: https://docs.vllm.ai
# ═══════════════════════════════════════════════════════════════════════════════
# VLLM_URL=http://localhost:8080
# VLLM_MODEL=meta-llama/Llama-3.1-70B-Instruct

# ═══════════════════════════════════════════════════════════════════════════════
# ANTHROPIC CLAUDE - Cloud LLM (Best for high-stakes decisions)
# Get API key from: https://console.anthropic.com
# ═══════════════════════════════════════════════════════════════════════════════
# ANTHROPIC_API_KEY=sk-ant-api03-xxxxx
# CLAUDE_MODEL=claude-3-5-sonnet-20241022

# ═══════════════════════════════════════════════════════════════════════════════
# GOOGLE GEMINI - Cloud LLM (Fallback option)
# Get API key from: https://makersuite.google.com/app/apikey
# ═══════════════════════════════════════════════════════════════════════════════
# GEMINI_API_KEY=AIzaSyxxxxx


# ┌──────────────────────────────────────────────────────────────────────────────┐
# │                         VECTOR DATABASE                                       │
# │  For long-term memory and RAG (Retrieval Augmented Generation)               │
# └──────────────────────────────────────────────────────────────────────────────┘

# Pinecone - Vector store for semantic search
# Get credentials from: https://www.pinecone.io
# PINECONE_API_KEY=xxxxx
# PINECONE_INDEX=king-ai
# PINECONE_ENVIRONMENT=us-east-1-aws


# ┌──────────────────────────────────────────────────────────────────────────────┐
# │                          E-COMMERCE: SHOPIFY                                  │
# │  Required for: Commerce Agent, dropshipping playbooks                        │
# │  Setup: Create app at Shopify Admin → Settings → Apps → Develop apps         │
# └──────────────────────────────────────────────────────────────────────────────┘

# Your store URL (without https://)
# SHOPIFY_SHOP_URL=your-store.myshopify.com

# Admin API access token (starts with shpat_)
# SHOPIFY_ACCESS_TOKEN=shpat_xxxxx

# API version (use latest stable)
# SHOPIFY_API_VERSION=2024-10


# ┌──────────────────────────────────────────────────────────────────────────────┐
# │                          PAYMENTS: STRIPE                                     │
# │  Required for: Finance Agent, payment processing, subscriptions              │
# │  Setup: Get keys from https://dashboard.stripe.com/apikeys                   │
# └──────────────────────────────────────────────────────────────────────────────┘

# Secret API key (starts with sk_live_ or sk_test_)
# ⚠️ Use sk_test_ keys for development!
# STRIPE_API_KEY=sk_test_xxxxx

# Publishable key (starts with pk_live_ or pk_test_)
# STRIPE_PUBLISHABLE_KEY=pk_test_xxxxx

# Webhook signing secret (starts with whsec_)
# Set up webhook at: https://dashboard.stripe.com/webhooks
# STRIPE_WEBHOOK_SECRET=whsec_xxxxx


# ┌──────────────────────────────────────────────────────────────────────────────┐
# │                          BANKING: PLAID                                       │
# │  Required for: Banking Agent, account connections, transaction sync          │
# │  Setup: Register at https://dashboard.plaid.com                              │
# └──────────────────────────────────────────────────────────────────────────────┘

# Your Plaid client ID
# PLAID_CLIENT_ID=xxxxx

# Plaid secret key (environment-specific)
# PLAID_SECRET=xxxxx

# Environment: sandbox (testing), development, or production
# PLAID_ENV=sandbox


# ┌──────────────────────────────────────────────────────────────────────────────┐
# │                      WEB ANALYTICS: GOOGLE ANALYTICS 4                        │
# │  Required for: Analytics Agent, traffic monitoring, e-commerce tracking      │
# │  Setup: Create service account in Google Cloud Console                       │
# └──────────────────────────────────────────────────────────────────────────────┘

# GA4 Property ID (numeric, e.g., 123456789)
# Find at: GA4 Admin → Property Settings
# GA4_PROPERTY_ID=123456789

# Service account credentials (choose ONE method):

# Method 1: Path to JSON key file
# GOOGLE_APPLICATION_CREDENTIALS=/path/to/service-account.json

# Method 2: JSON content as string (useful for Docker/cloud deployment)
# GA4_CREDENTIALS_JSON='{"type": "service_account", "project_id": "...", ...}'


# ┌──────────────────────────────────────────────────────────────────────────────┐
# │                        IMAGE GENERATION: OPENAI                               │
# │  Required for: Content Agent DALL-E image generation                         │
# │  Setup: Get key from https://platform.openai.com/api-keys                    │
# └──────────────────────────────────────────────────────────────────────────────┘

# OpenAI API key for DALL-E image generation
# OPENAI_API_KEY=sk-xxxxx


# ┌──────────────────────────────────────────────────────────────────────────────┐
# │                        WEB SEARCH: SERPAPI                                    │
# │  Required for: Research Agent web searches and market research               │
# │  Setup: Get key from https://serpapi.com                                     │
# └──────────────────────────────────────────────────────────────────────────────┘

# SerpAPI key for web search
# SERPAPI_KEY=xxxxx


# ┌──────────────────────────────────────────────────────────────────────────────┐
# │                          NOTIFICATIONS: EMAIL                                 │
# │  Optional: For approval notifications and alerts                             │
# └──────────────────────────────────────────────────────────────────────────────┘

# SMTP Configuration
# SMTP_HOST=smtp.gmail.com
# SMTP_PORT=587
# SMTP_USER=your-email@gmail.com
# SMTP_PASSWORD=your-app-password
# SMTP_FROM_EMAIL=noreply@your-domain.com

# OR use AWS SES
# USE_SES=true
# AWS_REGION=us-east-1


# ┌──────────────────────────────────────────────────────────────────────────────┐
# │                     MONITORING & OBSERVABILITY                                │
# │  Optional: For production monitoring and debugging                           │
# └──────────────────────────────────────────────────────────────────────────────┘

# Datadog APM
# DD_API_KEY=xxxxx
# DD_APP_KEY=xxxxx

# Arize ML Observability
# ARIZE_API_KEY=xxxxx
# ARIZE_SPACE_KEY=xxxxx

# LangSmith LLM Tracing
# LANGCHAIN_API_KEY=xxxxx
# LANGCHAIN_TRACING_V2=true
# LANGCHAIN_PROJECT=king-ai-v2


# ┌──────────────────────────────────────────────────────────────────────────────┐
# │                          SYSTEM CONFIGURATION                                 │
# │  Core settings that control King AI behavior                                  │
# └──────────────────────────────────────────────────────────────────────────────┘

# ═══════════════════════════════════════════════════════════════════════════════
# RISK PROFILE - Controls how much autonomy the AI has
# ═══════════════════════════════════════════════════════════════════════════════
# Options: conservative, moderate, aggressive
#   - conservative: Max $50 auto-approve, requires approval for most actions
#   - moderate: Max $500 auto-approve, balanced autonomy (DEFAULT)
#   - aggressive: Max $5000 auto-approve, minimal oversight
RISK_PROFILE=moderate

# ═══════════════════════════════════════════════════════════════════════════════
# AUTONOMOUS MODE - Enable background optimization without user prompts
# ═══════════════════════════════════════════════════════════════════════════════
ENABLE_AUTONOMOUS_MODE=false

# ═══════════════════════════════════════════════════════════════════════════════
# SELF-MODIFICATION - Allow AI to propose changes to its own code
# ═══════════════════════════════════════════════════════════════════════════════
ENABLE_SELF_MODIFICATION=true

# Maximum evolution proposals per hour (rate limiting)
MAX_EVOLUTIONS_PER_HOUR=5

# Daily limit for evolution proposals
EVOLUTION_DAILY_LIMIT=1

# Minimum confidence score required (0.0 - 1.0)
EVOLUTION_CONFIDENCE_THRESHOLD=0.8

# Require tests to pass before applying evolution
EVOLUTION_REQUIRE_TESTS=true

# Sandbox timeout for testing proposals (seconds)
EVOLUTION_SANDBOX_TIMEOUT=300

# ═══════════════════════════════════════════════════════════════════════════════
# APPROVAL SETTINGS
# ═══════════════════════════════════════════════════════════════════════════════
# Maximum amount (USD) that can be auto-approved without human review
MAX_AUTO_APPROVE_AMOUNT=100.0

# Hours before approval requests expire
APPROVAL_EXPIRY_HOURS=24

# ═══════════════════════════════════════════════════════════════════════════════
# SCHEDULER SETTINGS - Background task automation
# ═══════════════════════════════════════════════════════════════════════════════
# Enable background task scheduler
ENABLE_SCHEDULER=true

# KPI review interval (hours)
KPI_REVIEW_INTERVAL_HOURS=6

# Health check interval (hours)
HEALTH_CHECK_INTERVAL_HOURS=1

# ═══════════════════════════════════════════════════════════════════════════════
# API SERVER SETTINGS
# ═══════════════════════════════════════════════════════════════════════════════
API_HOST=0.0.0.0
API_PORT=8000

# Rate limiting (requests per window)
ENABLE_RATE_LIMITING=true
RATE_LIMIT_REQUESTS=100
RATE_LIMIT_WINDOW=60


# ┌──────────────────────────────────────────────────────────────────────────────┐
# │                              QUICK REFERENCE                                  │
# └──────────────────────────────────────────────────────────────────────────────┘
#
# MINIMUM REQUIRED FOR BASIC OPERATION:
#   ✓ DATABASE_URL
#   ✓ REDIS_URL  
#   ✓ OLLAMA_URL + OLLAMA_MODEL (or another LLM provider)
#
# RECOMMENDED FOR PRODUCTION:
#   ✓ All of the above
#   ✓ ANTHROPIC_API_KEY (for high-stakes decisions)
#   ✓ PINECONE credentials (for long-term memory)
#   ✓ At least one notification method (SMTP or SES)
#
# FOR FULL FUNCTIONALITY:
#   ✓ All of the above
#   ✓ SHOPIFY credentials (e-commerce)
#   ✓ STRIPE credentials (payments)
#   ✓ PLAID credentials (banking)
#   ✓ GA4 credentials (analytics)
#   ✓ OPENAI_API_KEY (image generation)
#   ✓ SERPAPI_KEY (web research)
#
